<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Majority Element</title>
  </head>
  <body>
    <h2>Challenge: Majority Element</h2>
    <section>
      <h3>Summary</h3>
      <p>
        Given an array of integers, find the majority element (appears more than n/2 time,
        where n is the length of the array).
      </p>
    </section>
    <section>
      <h3>Requirements</h3>
      <p>You are given an array of integers.</p>
      <p>
        Implement a function to find the majority element in the array and return it. If
        there is no majority element, return -1
      </p>
    </section>
    <section>
      <h3>Test Cases</h3>
      <p>
        Input: [3, 3, 4, 2, 4, 4, 2, 4, 4]<br />
        Output: 4
      </p>
      <p>
        Input: Input: [1, 2, 3, 4, 5]<br />
        Output: -1
      </p>
    </section>

    <script>
      // todo: learn concept behind Moore's algorithm
      // utility function
      function majorityElement(array) {
        // ensures a true array and non-empty;
        if (!Array.isArray(array) || array.length === 0) {
          throw new Error("Invalid input. array must be a non-empty array of integers.");
        }

        let majority = array[0];
        let count = 1;

        // uses moore's voting algorithm
        // to search for majority element in the array;
        for (let i = 1; i < array.length; i++) {
          if (count === 0) {
            majority = array[i];
            count = 1;
          } else if (array[i] === majority) {
            count++;
          } else {
            count--;
          }
        }

        // Check if the majority element is indeed the majority
        // also registers count (occurrence) of the major element
        // previously found by Moore's algorithm;
        count = 0;
        for (let i = 0; i < array.length; i++) {
          if (array[i] === majority) {
            count++;
          }
        }

        // if confirmed majority occurred more than or equal to required
        // occurrence (n = array.length / 2) and returns the majority element
        // if so else returns -1;
        return count > array.length / 2 ? majority : -1;
      }
    </script>
  </body>
</html>
