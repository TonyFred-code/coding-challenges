<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculate Average</title>
  </head>
  <body>
    <h2>Calculate Average</h2>
    <p>
      Task: Develop a function that takes an array of numbers as input and returns the
      average value.
    </p>

    <div class="output"></div>

    <script>
      const output = document.querySelector(".output");

      function calculateAverage(array) {
        if (!Array.isArray(array)) {
          throw new Error("Invalid input. Must be an array");
        } else if (array.length === 0) {
          throw new Error("Array must be non-empty");
        }

        let sum = 0;
        let n = array.length;

        for (let i = 0; i < n; i++) {
          sum += array[i];
        }

        let average = sum / n;
        return average;
      }

      // example usage
      function getRnd(min, max) {
        return Math.floor(Math.random() * (max- min + 1) + min);
      }
      function useUtility(limit = 10) {
        let rndArray = []
        for (let i = 0; i < limit; i++) {
          rndArray.push(getRnd(0, limit));
        }

        console.log(`Average of ${rndArray.join(", ")} = ${calculateAverage(rndArray)}`);
      }

      useUtility();
    </script>
  </body>
</html>
